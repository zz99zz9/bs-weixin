<style>
.order-fundList {
    white-space: nowrap;
    overflow-x: scroll;
}

.order-fund {
    display: inline-block;
    text-align: center;
    width: 120px;
    height: 60px;
    line-height: 60px;
    margin: 0 2px 10px 0;
    border: 1px solid #baa071;
}

.order-fund.selected {
    background: #baa071;
    color: #fff !important;
}

.order-fund span {
    font-size: 25px;
}

.radio-row {
    height: 40px;
    padding: 8px;
}

.font {
    font-size: 13px;
}

.checked {
    background-image: url(img/checked.png);
}

.unchecked {
    background-image: url(img/unchecked.png);
}

.hiddenbox {
    margin: 0 20px 0 0;
    position: absolute;
    right: 0;
}
.mui-toast-container {
    bottom: 50px;
}

.mui-toast-message {
    color: #fff;
    background-color: #dd524d;
}

input[type=checkbox] {
    visibility: hidden;
}

.info-left {
    float: left;
    margin-bottom: 8px;
}
.info-right {
     float: right;
     margin-right: 10px;
}

.order-btn {
    width: 50%;
    border: none;
    border-radius: 0;
    height: 50px;
}
.width100 {
    width: 100%;
}
</style>
<div ms-controller="order">
    <div style="margin: 0 auto;width: 95%;">
        <div class="hotel">
            <div ms-on-tap="goHotelById(hotel.id)">
                <p class="hotel-alias bs-text-larger bs-text-gold">{{data.hotel.alias}}酒店</p>&nbsp;
                <p class="room-name bs-text-larger bs-text-51">one' own</p>
                <p class="hotel-address bs-text-normal bs-text-153">{{data.hotel.address}}</p>
            </div>
        </div>
        <div ms-on-tap="openNav(data.hotel.lat,data.hotel.lng,data.hotel.name,data.hotel.address)" class="line" style="background-image: url(img/line.png); position: absolute; top: 5px;"></div>
        <ul class="order-list">
            <li class="order-item" ms-repeat="data.orderRoomList" ms-data-index="$index" ms-click="selectRoom($index, el.status)" style="padding: 8px 0 8px 10px;">
                <div class="hiddenbox">
                    <input type="checkbox" style="display: none;" ms-duplex-number="selectedList" ms-attr-value="$index" />
                    <div ms-visible="el.status<=1" class="check-icon" ms-class-1="unchecked:selectedList.indexOf($index)<0" ms-class-2="checked:selectedList.indexOf($index)>-1" style="position: absolute; right: 5px;"></div>
                </div>
                <!-- 右上角房间状态 -->
                <span class="status bs-text-smaller bs-text-white" ms-if="data.status>1" style="right: 9px;">{{getStatus(el.status)}}</span>
                <div id="triangle" ms-if="data.status>1"></div>
                <span class="order-panel-title bs-text-large bs-text-51">{{el.name}}</span>
                <h5 class="bs-text-small bs-text-102" style="margin: 0 0 20px 0;">
                    <span style="margin-bottom: 8px; display: inline-block;">{{formatDate(el.startTime)}} - {{formatDate(el.endTime)}}
                    &nbsp;共{{el.timeCount}}{{data.isPartTime?'小时':'晚'}}</span>
                    <br>
                    <span style=" margin-top: 8px;" ms-repeat-cl="el.orderCustomerList">{{cl.name}}&nbsp;</span>
                    <br>
                    <!-- 是否评论 -->
                    <span class="bs-text-large bs-text-black" style="float: left; margin-top: 20px;" ms-if="(el.status==3||el.status==4)&&(el.isComment)">已评价</span>
                    <!-- 操作按钮 -->
                    <button class="bs-text-small" type="button" ms-on-tap="orderRoomAction(el.status, el.id)" ms-if="el.status>=2&&el.status<=4&&!el.isComment" style="float: left;margin: 0px;margin-top: 12px;">{{showActionText(el.status)}}</button>
                    <!-- 房间价格 -->
                    <span class="bs-text-large bs-text-red" style="float: right; margin: 20px 15px 0 0;">¥{{el.amount}}</</span>
                </h5>
                <span style="clear: both;">&nbsp;</span>
            </li>
        </ul>
        <div class="bs-text-large" style="text-align: center;margin-top: -14px;background: #fff;height: 40px;line-height: 40px;" ms-click="goHotelById(data.hotel.id)" ms-if="data.status==1">
            <span class="mui-icon mui-icon-plusempty bs-text-red" style="font-size: 32px;position: relative;top: 3px;"></span>预定更多房间
        </div>
        <div class="order-panel" ms-if="data.status==1">
            <div class="order-panel-title bs-text-large bs-text-153">体验基金</div>
            <div class="order-fundList">
                <div class="order-fund bs-text-normal bs-text-gold" ms-click="selectFund($index)" ms-repeat="fundList" ms-class="selected: $index == fundIndex" ms-if-loop="el.isValid">
                    ¥<span class="bs-text-x-large">{{el.money}}</span>
                </div>
            </div>
        </div>
        <div class="order-panel bs-text-normal bs-text-102">
            <div class="order-panel-title bs-text-large bs-text-153">订单信息</div>
            <div style="clear: both;">
                <span class="info-left">订单编号：</span>
                <span class="info-right bs-text-black">{{data.orderNo}}</span>
            </div>
            <div style="clear: both;">
                <span class="info-left">订单状态：</span>
                <span class="info-right bs-text-black">{{getStatus(data.status)}}</span>
            </div>
            <div style="clear: both;">
                <span class="info-left">优惠金额：</span>
                <span class="info-right bs-text-red">¥{{fund}}</span>
            </div>
            <div style="clear: both;">
                <span class="info-left">实付金额：</span>
                <span class="info-right bs-text-red">
                ¥{{(needAmount-fund)<0?0:(needAmount-fund)}}
                </span>
            </div>
            <div>&nbsp;</div>
        </div>
        <div class="order-panel font" ms-if="data.status==1">
            <div class="order-panel-title bs-text-large bs-text-153">支付方式</div>
            <div ms-click="newRadio1" style="margin-bottom: 10px;">
                <div class="hiddenbox">
                    <div class="check-icon" ms-class-1="unchecked:payType == 1" ms-class-2="checked:payType == 2" style="position: absolute; right: 5px;"></div>
                </div>
                <span class="bs-text-normal bs-text-black">微信支付</span>
            </div>
            <div ms-click="newRadio2">
                <div class="hiddenbox">
                    <div class="check-icon" ms-class-1="unchecked:payType == 2" ms-class-2="checked:payType == 1" style="position: absolute; right: 5px;"></div>
                </div>
                <span class="bs-text-normal bs-text-black">支付宝支付</span>
            </div>
        </div>
        <br>
        <br>
        <br>
    </div>

    <!-- 操作面板 -->
    <div id="roomSheet" class="mui-popover mui-popover-bottom mui-popover-action bs-text-large" style="right: 0;">
        <!-- 可选择菜单 -->
        <ul class="mui-table-view">
          <li class="mui-table-view-cell" ms-repeat="data.orderRoomList" ms-if-loop="isShowSheet(el.status, el.isComment)" ms-on-tap="sheetClick(el.id)">
            <a href="#">{{el.name}}</a>
          </li>
        </ul>
        <!-- 取消菜单 -->
        <ul class="mui-table-view">
          <li class="mui-table-view-cell">
            <a href="#roomSheet"><b>取消</b></a>
          </li>
        </ul>
    </div>

    <nav class="mui-bar mui-bar-tab">
        <button type="button" class="order-btn bs-text-white" ms-click="btn1Click" ms-if="btn1Text!=''" ms-attr-disabled="btn1Disabled" ms-class-1="bs-bg-gray:data.status==1||data.status==2" ms-class-2="bs-bg-gold:data.status==3||data.staus==4" ms-class-3="width100:data.staus==4">{{btn1Text}}</button>
        <button type="button" class="order-btn bs-text-white bs-bg-black" ms-click="btn2Click" ms-if="btn2Text!=''" ms-attr-disabled="btn2Disabled">{{btn2Text}}</button>
    </nav>
</div>
