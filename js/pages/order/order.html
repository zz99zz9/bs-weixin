<style>
    .order-panel {
        background: #fff;
        padding: 10px;
        margin: 10px 0;
    }
    .order-panel-title {
        font-size: 20px;
        margin-bottom: 10px;
    }
    .order-fundList {
        white-space: nowrap;
        overflow-x: scroll;
    }
    .order-fund {
        display:  inline-block;
        color: gold;
        text-align: center;
        width: 100px;
        height: 48px;
        padding: 13px;
        border: 1px solid gold;
    }
    .order-fund.selected{
        background: gold;
        color: #fff;
    }
    .order-fund span {
        font-size: 25px;
    }
    .radio-row{
        height: 40px;
        padding: 8px;
    }
</style>
<div ms-controller="order" style="margin: 5px auto; width: 95%;">
    <div class="hotel">
        <div ms-on-tap="goHotelById(hotel.id)">
            <span style="color:gold; font-size:20px;">{{data.hotel.name}}</span><br>
            <span>{{data.hotel.address}}</span><br>
        </div>
        <span ms-on-tap="openNav()" class="mui-icon mui-icon-map mui-text-danger" style="font-size: 34px"></span>
    </div>

    <ul class="order-list">
        <li class="mui-checkbox order-item" ms-repeat="data.orderRoomList" ms-data-index="$index" ms-click="selectRoom($index)">
            <input type="checkbox" ms-duplex-number="selectedList" ms-attr-value="$index" class="selected" ms-visible="data.status==1">
            <span>{{el.name}}</span>
            <h5>
                {{formatDate(el.startTime)}} - {{formatDate(el.endTime)}}
                &nbsp;共{{el.timeCount}}晚
                <br>
                <span ms-repeat-cl="el.orderCustomerList">{{cl.name}}&nbsp;</span>
            </h5>
            <span style="position: absolute; bottom: 7px; right: 15px;">¥{{el.amount}}</span>
        </li>
    </ul>
    <div style="text-align: center;margin-top: -14px;background: #fff;height: 40px;padding: 10px;" ms-click="goHotelById(data.hotel.id)" ms-if="data.status==1">
        <span class="mui-icon mui-icon-plusempty"></span>
        预定更多房间
    </div>
    
    <div class="order-panel" ms-if="data.status==1">
        <h5 class="order-panel-title">体验基金</h5>
        <div class="order-fundList">
            <div class="order-fund" ms-click="selectFund($index)" ms-repeat="fundList" ms-class="selected: $index === fundIndex">
                ¥<span>{{el.money}}</span>
            </div>
        </div>
    </div>

    <div class="order-panel">
        <h5 class="order-panel-title">订单信息</h5>

        <div style="clear: both;">
            <span style="float: left;">订单编号：</span>
            <span style="float: right;">{{data.orderNo}}</span>
        </div>
        <div style="clear: both;">
            <span style="float: left;">订单状态：</span>
            <span style="float: right;">{{getStatus()}}</span>
        </div>
        <div style="clear: both;">
            <span style="float: left;">优惠金额：</span>
            <span style="float: right;">¥{{fund}}</span>
        </div>
        <div style="clear: both;">
            <span style="float: left;">实付金额：</span>
            <span style="float: right;">
            ¥{{(needAmount-fund)<0?0:(needAmount-fund)}}
            </span>
        </div>
        <div>&nbsp;</div>
    </div>
    
    <div class="order-panel" ms-if="data.status==1">
        <h5 class="order-panel-title">支付方式</h5>
        <div class="mui-radio radio-row">
            <input type="radio" ms-duplex-string="payType" value="2" class="selected">
            <label>微信支付</label>
        </div>
        <div class="mui-radio radio-row">
            <input type="radio" ms-duplex-string="payType" value="1" class="selected">
            <label>支付宝</label>
        </div>
    </div>

    <br>
    <br>
    <br>
</div>
<nav class="mui-bar mui-bar-tab" style="padding: 10px;" ms-controller="order">
    <button type="button" class="mui-btn mui-pull-left" style="top: 0;font-weight: normal" ms-click="btn1Click" ms-if="btn1Text!=''" ms-attr-disabled="btn1Disabled">{{btn1Text}}</button>
    <button type="button" class="mui-btn mui-btn-danger mui-pull-right" style="top: 0;font-weight: normal" ms-click="btn2Click" ms-if="btn2Text!=''" ms-attr-disabled="btn2Disabled">{{btn2Text}}</button>
</nav>
